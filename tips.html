<!DOCTYPE html>
<html lang="en" ng-app="PrivacyApp">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Privacy Tips | Digital Mirror</title>
  <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.8.2/angular.min.js"></script>
  <style>
   body {
  background-image: url('5.jpg');
  background-size: cover;
  background-position: center top 80px; /* Pushes image down by 80px */
  background-repeat: no-repeat;
  color: white;
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  margin: 0;
}


   .nav-left {
  display: flex;
  align-items: center;
  gap: 8px;
  font-size: 18px;
  font-weight: bold;
  color: #ffffff;
}

.logo-img {
  width: 60px;
  height: 60px;
  border-radius: 0;  /* Makes the image perfectly round */
  object-fit: cover;   /* Ensures it fills the round container */
}


    nav {
      background-color: #1e1e1e;
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 1rem 2rem;
      box-shadow: 0 4px 10px rgba(0, 0, 0, 0.3);
    }

    .nav-left {
      font-size: 1.5rem;
      font-weight: bold;
      color: #66e6db;
    }

    .nav-center a {
      margin: 0 10px;
      color: #dddddd;
      text-decoration: none;
      padding: 10px 15px;
      border-radius: 20px;
      transition: all 0.3s ease;
    }

    .nav-center a:hover,
    .nav-center a.active {
      background-color: #409e96;
      color: white;
      transform: scale(1.05) translateY(-5px);
      box-shadow: 0 12px 24px rgba(73, 230, 177, 0.5);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .nav-right {
      display: flex;
      align-items: center;
      gap: 1rem;
    }

    .nav-right a,
    .dropdown-content a {
      color: #dddddd;
      text-decoration: none;
      padding: 10px 10px;
      border-radius: 30px;
      transition: all 0.3s ease;
    }

    .nav-right a:hover,
    .dropdown-content a:hover,
    .nav-right a.active {
      background-color: #409e96;
      color: white;
      transform: scale(1.05);
      box-shadow: 0 12px 24px rgba(0, 0, 0, 0.5);
      transition: transform 0.3s ease, box-shadow 0.3s ease;
    }

    .profile-container {
      position: relative;
      display: inline-block;
    }

    .profile-icon {
      width: 42px;
      height: 42px;
      background-color: #3dbdb2;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      font-weight: bold;
      color: #121212;
      cursor: pointer;
      transition: background 0.3s ease;
    }

    .dropdown-content {
      display: none;
      position: absolute;
      background-color: #2c2c2c;
      min-width: 160px;
      right: 0;
      box-shadow: 0 4px 8px rgba(0,0,0,0.4);
      z-index: 1;
      border-radius: 6px;
      overflow: hidden;
    }

    .dropdown-content a {
      display: block;
      padding: 12px 16px;
    }

    .profile-container:hover .dropdown-content {
      display: block;
    }

    input[type="text"],
    select {
      padding: 8px;
      width: 100%;
      border-radius: 4px;
      border: none;
      margin-bottom: 15px;
    }

    .card.tip {
      background: #1e1e1e;
      padding: 15px;
      margin: 10px 0;
      border-radius: 8px;
      box-shadow: 0 2px 5px rgba(0,0,0,0.5);
      cursor: pointer;
      transition: background-color 0.3s ease;
    }

    .hover-highlight {
      background-color: #333 !important;
    }

    .card.tip h3 {
      margin: 0 0 5px;
    }

    .tip-details {
      background-color: #2a2a2a;
      padding: 10px;
      border-radius: 6px;
      margin-top: 8px;
      color: #cfcfcf;
      font-size: 0.95em;
    }
    .centered-field {
  width: 50%;
  max-width: 400px;
  margin: 20px auto;
  display: block;
  text-align: left;
  padding: 8px;
  border-radius: 4px;
  border: none;
}


  </style>
</head>

<body ng-controller="TipsController">

  <!-- Navigation -->
  <nav>
    <div class="nav-left">
  <img src="1.jpeg" alt="Logo" class="logo-img">
  <span>Digital Footprint Mirror</span>
</div>

    <div class="nav-center">
      <a href="home.html" class="active">Home</a>
      <a href="score.html">Score</a>
      <a href="report.html">Report</a>
      <a href="tips.html">Privacy Tips</a>
    </div>
    <div class="nav-right" ng-if="!user">
      <a href="auth.html" class="active">Login</a>
      <a href="auth.html">Sign Up</a>
    </div>
    <div class="nav-right" ng-if="user">
      <div class="greeting">Hi, {{ user.name }}</div>
      <div class="profile-container">
        <div class="profile-icon">{{ user.name.charAt(0).toUpperCase() }}</div>
        <div class="dropdown-content">
          <a href="profile.html">View Profile</a>
          <a href="settings.html">Settings</a>
          <a href="#" ng-click="logout()">Logout</a>
        </div>
      </div>
    </div>
  </nav>

  <main class="container">

    

    <!-- Privacy Tips -->
    <h1>Privacy Tips</h1>
    <input type="text" ng-model="searchQuery" placeholder="Search tips" class="centered-field">
<select ng-model="selectedCategory" ng-change="loadTipsByCategory()" ng-options="cat for cat in categories" class="centered-field">
  <option value="">-- Select Risk Category --</option>
</select>


    <div id="tips-list">
      <div class="card tip"
           ng-repeat="tip in filteredTips = (tips | filter:searchQuery)"
           ng-click="toggleDetails(tip)"
           highlight-on-hover>
        <h3>{{ tip.title }}</h3>
        <p>{{ tip.text }}</p>
        <div class="tip-details" ng-show="expandedTip === tip">
          {{ tip.detail }}
        </div>
      </div>
      <p ng-if="filteredTips.length === 0">No tips found.</p>
    </div>

  </main>

  <script>
    angular.module('PrivacyApp', [])

    .service('TipService', function () {
      const allTips = {
        cookies: [
          { title: "Disable Third-Party Cookies", text: "Prevent tracking across websites by blocking third-party cookies.", detail: "Third-party cookies are created by domains other than the one you are visiting. Disabling them prevents cross-site tracking and improves your privacy." },
          { title: "Clear Cookies Regularly", text: "Remove stored cookies frequently to minimize tracking.", detail: "Cookies store information about your browsing sessions. Clearing them ensures that websites donâ€™t retain long-term behavioral tracking on you." },
          { title: "Use Private Browsing Mode", text: "Use incognito/private mode to avoid saving cookies and session data.", detail: "Private mode ensures that cookies and history aren't saved after your session, making it harder for advertisers to track your behavior." },
          { title: "Set Cookie Expiration Short", text: "Configure your browser to delete cookies after each session.", detail: "Browsers like Firefox allow setting cookie expiration policies. This reduces persistent tracking and improves control." }
        ],
        general: [
          { title: "Use a VPN", text: "VPN hides your IP address and secures your online activities.", detail: "A VPN routes your internet traffic through an encrypted tunnel, shielding your identity and preventing ISPs from tracking you." },
          { title: "Enable Do Not Track", text: "Turn on Do Not Track in browser settings for extra privacy.", detail: "While not all websites honor this request, enabling 'Do Not Track' sends a signal that you prefer not to be monitored." }
        ]
      };

      this.getTipsByScore = function () {
        const scores = JSON.parse(localStorage.getItem("privacyScores")) || {};
        const tips = [];
        for (let cat in allTips) {
          if (scores[cat] && scores[cat] >= 50) {
            tips.push(...allTips[cat]);
          }
        }
        return tips.length > 0 ? tips : allTips.general;
      };

      this.getTipsByCategory = function (category) {
        return allTips[category] || allTips.general;
      };

      this.getCategories = function () {
        return Object.keys(allTips);
      };
    })

    .controller('TipsController', function ($scope, TipService) {
      // Fetch signup data from localStorage
      $scope.user = {
        name: localStorage.getItem('username') || 'Anonymous',
        email: localStorage.getItem('useremail') || 'Not Provided'
      };

      $scope.searchQuery = "";
      $scope.tips = TipService.getTipsByScore();
      $scope.categories = TipService.getCategories();
      $scope.expandedTip = null;

      $scope.loadTipsByCategory = function () {
        $scope.tips = $scope.selectedCategory
          ? TipService.getTipsByCategory($scope.selectedCategory)
          : TipService.getTipsByScore();
        $scope.expandedTip = null;
      };

      $scope.toggleDetails = function (tip) {
        $scope.expandedTip = ($scope.expandedTip === tip) ? null : tip;
      };

      $scope.editProfile = function () {
        const newName = prompt("Edit Name:", $scope.user.name);
        const newEmail = prompt("Edit Email:", $scope.user.email);
        if (newName) {
          $scope.user.name = newName;
          localStorage.setItem("username", newName);
        }
        if (newEmail) {
          $scope.user.email = newEmail;
          localStorage.setItem("useremail", newEmail);
        }
      };
    })

    .directive('highlightOnHover', function () {
      return {
        restrict: 'A',
        link: function (scope, element) {
          element.on('mouseenter', function () {
            element.addClass('hover-highlight');
          });
          element.on('mouseleave', function () {
            element.removeClass('hover-highlight');
          });
        }
      };
    });
  </script>
</body>
</html>
